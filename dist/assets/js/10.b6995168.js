(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{24:function(e,t,o){"use strict";o.r(t);var i=o(11),n=(o(16),o(13)),s=o.n(n),r=o(17),a=o(9);function c(){const e=babelHelpers.taggedTemplateLiteral(['<img class="bg-img" data-src="','">']);return c=function(){return e},e}function l(){const e=babelHelpers.taggedTemplateLiteral(['<img class="bg-img" data-sizes="auto" data-srcset="','">']);return l=function(){return e},e}function d(){const e=babelHelpers.taggedTemplateLiteral(['<div class="lazy-background-container" style="background-color:','"><div class="lazy-background" style="background-size:',";background-position:",'">',"</div><slot></slot></div>"]);return d=function(){return e},e}function g(){const e=babelHelpers.taggedTemplateLiteral([":host{margin-bottom:5px;display:block;position:relative}:host .lazy-background-container{position:relative;display:block;width:100%}:host .lazy-background-container .lazy-background{position:absolute;top:0;left:0;width:100%;height:100%;background-repeat:no-repeat;opacity:0;z-index:1}:host .lazy-background-container .lazy-background.loaded{opacity:1;transition:opacity .3s}:host .bg-img{display:none}"]);return g=function(){return e},e}var p=function(e,t,o,i){var n,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(r=(s<3?n(r):s>3?n(t,o,r):n(t,o))||r);return s>3&&r&&Object.defineProperty(t,o,r),r};let u=class extends i.a{constructor(){super(...arguments),this.bg="",this.responsive=!1,this.position="center center",this.size="cover",this.color="#ccc"}connectedCallback(){super.connectedCallback(),this.responsive&&this.responsiveImgHandler(),this.styleContentWrap(),this.addEventListeners()}disconnectedCallback(){this.removeEventListeners(),super.disconnectedCallback()}addEventListeners(){document.addEventListener("readystatechange",()=>{const e=this.shadowRoot.querySelector("img");e.addEventListener("lazybeforeunveil",this.showImage(e),!0),e.addEventListener("load",e=>{const t=this.shadowRoot.querySelector(".lazy-background-container .lazy-background"),o=e.target;t.style.backgroundImage="url(".concat(o.currentSrc||o.src,")"),t.classList.add("loaded")},!0),window.addEventListener("scroll",()=>window.requestAnimationFrame(()=>this.showImage(e)),!0),window.addEventListener("resize",()=>window.requestAnimationFrame(()=>this.showImage(e)),!0)},!0)}removeEventListeners(){document.removeEventListener("readystatechange",()=>console.log("removed"),!0),window.removeEventListener("scroll",()=>console.log("removed"),!0),window.removeEventListener("resize",()=>console.log("removed"),!0)}styleContentWrap(){const e=this.querySelector(".content");e&&(e.style.padding="30px",e.style.position="relative",e.style.zIndex=2)}showImage(e){Object(r.a)(e,1.5)&&!this._isImageLoaded&&(this._isImageLoaded=!0,s.a.loader.unveil(e))}responsiveImgHandler(){let e=this.bg.split("_");this.setImgRoot(e),e=e[2].split("."),this.setImgExt(e),this.setPixelRatio(),this.requestUpdate()}setImgRoot(e){return this._imgRootUrl=e[0],this._imgRootUrl}setImgExt(e){return this._imgExt=e[1],this._imgExt}setPixelRatio(){return this._devicePixelRatio=window.devicePixelRatio>=2?2:1,this._devicePixelRatio}static get styles(){return Object(i.b)(g())}render(){return Object(i.d)(d(),this.color,this.size,this.position,this.responsive?Object(i.d)(l(),a.a.imageSizes.map((e,t)=>"".concat(t>0?", ":"").concat(this._imgRootUrl,"_").concat(e,"w_").concat(this._devicePixelRatio,"x.").concat(this._imgExt," ").concat(e*this._devicePixelRatio,"w"))):Object(i.d)(c(),this.bg))}};p([Object(i.e)({type:String})],u.prototype,"bg",void 0),p([Object(i.e)({type:Boolean})],u.prototype,"responsive",void 0),p([Object(i.e)({type:String})],u.prototype,"position",void 0),p([Object(i.e)({type:String})],u.prototype,"size",void 0),p([Object(i.e)({type:String})],u.prototype,"color",void 0),u=p([Object(i.c)("lazy-background")],u),o.d(t,"LazyBackground",function(){return u})}}]);
//# sourceMappingURL=10.b6995168.js.map