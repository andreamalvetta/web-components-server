(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{12:function(t,e,i){"use strict";e.a=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const i=window.scrollY||window.pageYOffset,s=t.getBoundingClientRect().top+i,o=i,n=i+window.innerHeight*e,a=s,r=s+t.clientHeight*e;return r>=o&&r<=n||a<=n&&a>=o}},20:function(t,e,i){"use strict";i.r(e);var s=i(9),o=(i(11),i(16),i(6),i(12));function n(){const t=babelHelpers.taggedTemplateLiteral(['<div class="lazy-background-container"><div class="lazy-background"><img class="bg-img" data-src="','"></div><slot></slot></div>']);return n=function(){return t},t}function a(){const t=babelHelpers.taggedTemplateLiteral(['<div class="lazy-background-container"><div class="lazy-background"><img class="bg-img" data-sizes="auto" data-srcset="','"></div><slot></slot></div>']);return a=function(){return t},t}function r(){const t=babelHelpers.taggedTemplateLiteral([""," ",""]);return r=function(){return t},t}function c(){const t=babelHelpers.taggedTemplateLiteral(["<style>:host{margin-bottom:5px;display:block;position:relative}:host .lazy-background-container{position:relative;display:block;background-color:",";width:100%}:host .lazy-background-container .lazy-background{position:absolute;top:0;left:0;width:100%;height:100%;background-size:",";background-position:",";background-repeat:no-repeat;opacity:0;z-index:1}:host .lazy-background-container .lazy-background.loaded{opacity:1;transition:opacity .3s}:host .bg-img{display:none}</style>"]);return c=function(){return t},t}customElements.define("lazy-background",class extends s.a{constructor(){super(),this.bg="",this.position="center center",this.color="#ccc",this.size="cover",this.responsive=!1,this.imgRootUrl=null,this.imgExt=null,this.devicePixelRatio=1,this.sizes=[1500,800,480,320],this.isImageLoaded=!1}firstUpdated(){if(this.shadowImg=this.shadowRoot.querySelector(".bg-img"),this.styleContentWrap(),this.responsive){let t=this.bg.split("_");this.setImgRoot(t),t=t[2].split("."),this.setImgExt(t),this.setPixelRatio(),this.requestUpdate()}this.shadowImg.addEventListener("lazybeforeunveil",this.showImage(),!0),this.shadowImg.addEventListener("load",t=>{const e=this.shadowRoot.querySelector(".lazy-background-container .lazy-background");e.style.backgroundImage="url(".concat(t.target.currentSrc||t.target.src,")"),e.classList.add("loaded")},!0),window.addEventListener("load",()=>this.showImage(),!0),window.addEventListener("scroll",()=>window.requestAnimationFrame(this.showImage.bind(this)),!0),window.addEventListener("resize",()=>window.requestAnimationFrame(this.showImage.bind(this)),!0)}styleContentWrap(){const t=this.querySelector(".content");t&&(t.style.padding="30px",t.style.position="relative",t.style.zIndex=2)}showImage(){Object(o.a)(this.shadowImg,1.5)&&!this.isImageLoaded&&(this.isImageLoaded=!0,lazySizes.loader.unveil(this.shadowImg))}setImgRoot(t){return this.imgRootUrl=t[0],this.imgRootUrl}setImgExt(t){return this.imgExt=t[1],this.imgExt}setPixelRatio(){return window.devicePixelRatio>=2&&(this.devicePixelRatio=2),this.devicePixelRatio}getStyles(){return Object(s.b)(c(),this.color,this.size,this.position)}render(){return Object(s.b)(r(),this.getStyles(),this.responsive?Object(s.b)(a(),this.sizes.map((t,e)=>"".concat(e>0?", ":"").concat(this.imgRootUrl,"_").concat(t,"w_").concat(this.devicePixelRatio,"x.").concat(this.imgExt," ").concat(t*this.devicePixelRatio,"w"))):Object(s.b)(n(),this.bg))}static get properties(){return{bg:{type:String},responsive:{type:Boolean},position:{type:String},size:{type:String},color:{type:String}}}})}}]);
//# sourceMappingURL=11.f35ffb78.js.map