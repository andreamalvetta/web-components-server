(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{21:function(t,e,o){"use strict";o.r(e);var i=o(8),n=(o(12),o(10)),s=o.n(n),a=o(13),r=o(6);function c(){const t=babelHelpers.taggedTemplateLiteral(['<div class="lazy-background-container"><div class="lazy-background"><img class="bg-img" data-src="','"></div><slot></slot></div>']);return c=function(){return t},t}function d(){const t=babelHelpers.taggedTemplateLiteral(['<div class="lazy-background-container"><div class="lazy-background"><img class="bg-img" data-sizes="auto" data-srcset="','"></div><slot></slot></div>']);return d=function(){return t},t}function l(){const t=babelHelpers.taggedTemplateLiteral([""," ",""]);return l=function(){return t},t}function g(){const t=babelHelpers.taggedTemplateLiteral(["<style>:host{margin-bottom:5px;display:block;position:relative}:host .lazy-background-container{position:relative;display:block;background-color:",";width:100%}:host .lazy-background-container .lazy-background{position:absolute;top:0;left:0;width:100%;height:100%;background-size:",";background-position:",";background-repeat:no-repeat;opacity:0;z-index:1}:host .lazy-background-container .lazy-background.loaded{opacity:1;transition:opacity .3s}:host .bg-img{display:none}</style>"]);return g=function(){return t},t}var h=function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};let p=class extends i.a{constructor(){super(...arguments),this.bg="",this.responsive=!1,this.position="center center",this.size="cover",this.color="#ccc"}connectedCallback(){super.connectedCallback(),document.addEventListener("readystatechange",()=>this.init(),!0)}disconnectedCallback(){document.removeEventListener("readystatechange",()=>console.log("removed"),!0),window.removeEventListener("scroll",()=>console.log("removed"),!0),window.removeEventListener("resize",()=>console.log("removed"),!0),super.disconnectedCallback()}init(){if(this.shadowImg=this.shadowRoot.querySelector(".bg-img"),this.styleContentWrap(),this.responsive){let t=this.bg.split("_");this.setImgRoot(t),t=t[2].split("."),this.setImgExt(t),this.setPixelRatio(),this.requestUpdate()}this.shadowImg.addEventListener("lazybeforeunveil",this.showImage(),!0),this.shadowImg.addEventListener("load",t=>{const e=this.shadowRoot.querySelector(".lazy-background-container .lazy-background");e.style.backgroundImage="url(".concat(t.target.currentSrc||t.target.src,")"),e.classList.add("loaded")},!0),window.addEventListener("scroll",()=>window.requestAnimationFrame(this.showImage.bind(this)),!0),window.addEventListener("resize",()=>window.requestAnimationFrame(this.showImage.bind(this)),!0)}styleContentWrap(){const t=this.querySelector(".content");t&&(t.style.padding="30px",t.style.position="relative",t.style.zIndex=2)}showImage(){Object(a.a)(this.shadowImg,1.5)&&!this.isImageLoaded&&(this.isImageLoaded=!0,s.a.loader.unveil(this.shadowImg))}setImgRoot(t){return this.imgRootUrl=t[0],this.imgRootUrl}setImgExt(t){return this.imgExt=t[1],this.imgExt}setPixelRatio(){return this.devicePixelRatio=window.devicePixelRatio>=2?2:1,this.devicePixelRatio}getStyles(){return Object(i.c)(g(),this.color,this.size,this.position)}render(){return Object(i.c)(l(),this.getStyles(),this.responsive?Object(i.c)(d(),r.a.imageSizes.map((t,e)=>"".concat(e>0?", ":"").concat(this.imgRootUrl,"_").concat(t,"w_").concat(this.devicePixelRatio,"x.").concat(this.imgExt," ").concat(t*this.devicePixelRatio,"w"))):Object(i.c)(c(),this.bg))}};h([Object(i.d)({type:String})],p.prototype,"bg",void 0),h([Object(i.d)({type:Boolean})],p.prototype,"responsive",void 0),h([Object(i.d)({type:String})],p.prototype,"position",void 0),h([Object(i.d)({type:String})],p.prototype,"size",void 0),h([Object(i.d)({type:String})],p.prototype,"color",void 0),p=h([Object(i.b)("lazy-background")],p),o.d(e,"LazyBackground",function(){return p})}}]);
//# sourceMappingURL=9.ed309273.js.map